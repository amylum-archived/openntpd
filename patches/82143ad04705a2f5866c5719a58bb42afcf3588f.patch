From 82143ad04705a2f5866c5719a58bb42afcf3588f Mon Sep 17 00:00:00 2001
From: multisnow <infinity.blick.winkel@gmail.com>
Date: Fri, 2 Dec 2016 21:19:58 +0800
Subject: [PATCH] update constraint-disabled.c according to
 https://github.com/openntpd-portable/openntpd-openbsd/commit/c8ed30f0cf3eef0a6aa9c36b34a4236458ca7fa2
 , should fix #29 and #31

---
 src/constraint-disabled.c | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

diff --git a/src/constraint-disabled.c b/src/constraint-disabled.c
index c222eac..e24e352 100644
--- a/src/constraint-disabled.c
+++ b/src/constraint-disabled.c
@@ -33,6 +33,11 @@ constraint_query(struct constraint *cstr)
 }
 
 void
+priv_constraint_child(const char *pw_dir, uid_t pw_uid, gid_t pw_gid)
+{
+}
+
+void
 priv_constraint_check_child(pid_t pid, int status)
 {
 }
@@ -43,8 +48,8 @@ priv_constraint_kill(u_int32_t id)
 }
 
 void
-priv_constraint_msg(u_int32_t id, u_int8_t *data, size_t len,
-    const char *pw_dir, uid_t pw_uid, gid_t pw_gid)
+priv_constraint_msg(u_int32_t id, u_int8_t *data, size_t len, int argc,
+    char **argv)
 {
 }
 
